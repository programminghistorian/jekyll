{% comment %}


This include generates the individual lesson descriptions that display on the lesson index pages (_includes/lesson-index.html)

lesson-slug.html computes the correct lesson slug, and then this include determines both the proper lesson path as well as the avatar image path


{% endcomment %}

<div class="lesson-description clearfix">

  {% if lesson.original %}
    {% assign canonical_slug = lesson.original %}
  {% else %}
    {% assign canonical_slug = lesson.url | split: "/" | last | remove_first: ".html" %}
  {% endif %}

  <div class="lesson-image">
    <a href="{{ lesson.url }}"><img class="rounded" src="/gallery/{{ canonical_slug }}.png"></a>
  </div>

  <h3 class="above-title">{{ include.authors }}</h3>
  <a href="{{ lesson.url }}"><h2 class="title">{{ lesson.title }}</h2></a>

  <p class="abstract">{{ lesson.abstract }}</p>

  {% comment %}
 Activity and topic are hidden via CSS as a hack to let JS sorting by activity and topic work. Note that the date sort is publication date for english lesson, and translation date for spanish lessons.
{% endcomment %}
  <span class="activity">{{ lesson.activity }}</span>
  <span class="topics">{{ lesson.topics | join: ' '}}</span>
  <span class="date">{% if lesson.lang == "es" %}{{ lesson.translation_date }}{% else %}{{ lesson.date }}{% endif %}</span>
  <span class="difficulty">{{ lesson.difficulty }}</span>

</div>
