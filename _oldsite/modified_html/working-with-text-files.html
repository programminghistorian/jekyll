<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ --><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]--><!--[if IE 8]><html class="no-js lt-ie9" lang="en"> <![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"/><title>The Programming Historian</title><!-- Mobile viewport optimized: h5bp.com/viewport --><meta content="width=device-width" name="viewport"/><link href="http://fonts.googleapis.com/css?family=Lato:300,700|Crete+Round" rel="stylesheet" type="text/css"/><link href="http://programminghistorian.org/wp-content/themes/ph-wp-theme/style.css" rel="stylesheet"/><!-- Modernizr and Friends --><script src="http://programminghistorian.org/wp-content/themes/ph-wp-theme/javascripts/modernizr.min.js"></script><script>
      Modernizr.load([
        {
          test: Modernizr.mq(),
          nope: ['http://programminghistorian.org/wp-content/themes/ph-wp-theme/javascripts/respond.min.js',
          'http://programminghistorian.org/wp-content/themes/ph-wp-theme/javascripts/selectivizr.min.js']
        }
      ]);
    </script><script type="text/javascript">//&lt;![CDATA[
            // Google Analytics for WordPress by Yoast v4.3.5 | http://yoast.com/wordpress/google-analytics/
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2752866-8']);
				            _gaq.push(['_setCustomVar',2,'author','adam-crymble',3],['_trackPageview']);
            (function () {
                var ga = document.createElement('script');
                ga.type = 'text/javascript';
                ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(ga, s);
            })();
            //]]&gt;</script><link href="http://programminghistorian.org/lessons/working-with-text-files/feed" rel="alternate" title="The Programming Historian » Working with Text Files Comments Feed" type="application/rss+xml"/><script src="http://programminghistorian.org/wp-includes/js/jquery/jquery.js?ver=1.11.0" type="text/javascript"></script><script src="http://programminghistorian.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1" type="text/javascript"></script><script src="http://programminghistorian.org/wp-content/themes/ph-wp-theme/javascripts/bigfoot.min.js?ver=3.9.1" type="text/javascript"></script><link href="http://programminghistorian.org/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/><link href="http://programminghistorian.org/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/><link href="http://programminghistorian.org/lessons/code-reuse-and-modularity" rel="prev" title="Code Reuse and Modularity"/><link href="http://programminghistorian.org/lessons/mac-installation" rel="next" title="Mac Installation"/><meta content="WordPress 3.9.1" name="generator"/><link href="http://programminghistorian.org/lessons/working-with-text-files" rel="canonical"/><link href="http://programminghistorian.org/?p=1577" rel="shortlink"/><style id="syntaxhighlighteranchor" type="text/css"></style><meta content="William J. Turkel &amp; Adam Crymble" name="author"/><meta content="Working with Text Files" name="title"/><meta content="2012-07-17" name="date"/><meta content="Miriam Posner, Jim Clifford" name="reviewers"/><meta content="default" name="layout"/></head><body class="single single-lesson postid-1577">
<!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
<!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->

<script type="text/javascript">
    jQuery(document).ready(function($) {
    // Inside of this function, $() will work as an alias for jQuery()
    // and other libraries also using $ will not be accessible under this shortcut
        $.bigfoot();
    });
    </script>
<div role="main">
<article>

<div class="content">
<h2>Lesson Goals</h2>
<p>In this lesson you will learn how to manipulate text files using Python. This includes opening, closing, reading from, and writing to <code>.txt</code> files.</p>
<p>The next few lessons will involve downloading a web page from the Internet and reorganizing the contents into useful chunks of information. You will be doing most of your work using Python code written and executed in Komodo Edit.</p>
<h2>Working with Text Files</h2>
<p>Python makes it easy to work with files and text. Let’s begin with files.</p>
<h3>Creating and Writing to a Text File</h3>
<p>Let’s start with a brief discussion of terminology. In a previous lesson (depending on your operating system: <a href="http://programminghistorian.org/lessons/mac-installation">Mac Installation</a>, <a href="http://programminghistorian.org/lessons/windows-installation">Windows Installation</a>, or <a href="http://programminghistorian.org/lessons/linux-installation">Linx Installation</a>), you saw how to send information to the “Command Output” window of your text editor by using Python’s <a href="http://www.python.org/doc/current/ref/print.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.python.org']);" target="_blank"><span class="reserved">print</span></a> command.</p>
<pre class="python">print 'hello world'</pre>
<p>The Python programming language is <span class="tech">object-oriented</span>. That is to say that it is constructed around a special kind of entity, an <span class="tech">object</span>, which contains both <span class="tech">data</span> and a number of <span class="tech">methods</span> for accessing and altering that data. Once an object is created, it can interact with other objects.</p>
<p>In the example above, we see one kind of object, the <span class="tech">string</span> “hello world”. The string is the sequence of characters enclosed by quotes. You can write a string one of three ways:</p>
<pre class="brush: plain; title: ; notranslate" title="">message1 = 'hello world'
message2 = "hello world"
message3 = """hello
hello
hello world"""</pre>
<p>The important thing to note is that in the first two examples you can use single or double quotes / inverted commas, but you cannot mix the two within one string.</p>
<p>For instance, the following are all wrong:</p>
<pre class="brush: plain; title: ; notranslate" title="">message1 = "hello world'
message2 = 'hello world"
message3 = 'I can't eat pickles'</pre>
<p>Count the number of single quotes in <span class="var">message3</span>. For that to work you would have to <span class="tech">escape</span> the apostrophe:</p>
<pre class="python">message3 = 'I can\'t eat pickles'</pre>
<p>Or, rewrite the phrase as:</p>
<pre class="python">message3 = "I can't eat pickles"</pre>
<p>In the third example, the triple quotes signify a string that covers more than one line.</p>
<p><span class="reserved">Print</span> is a command that prints objects in textual form. The print command, when combined with the string, produces a <span class="tech">statement</span>.</p>
<p>You will use <span class="reserved">print</span> like this in cases where you want to create information that needs to be acted upon right away. Sometimes, however, you will be creating information that you want to save, to send to someone else, or to use as input for further processing by another program or set of programs. In these cases you will want to send information to files on your hard drive rather than to the “Command Output” pane. Enter the following program into your text editor and save it as <code>file-output.py</code>.</p>
<pre class="python"># file-output.py
f = open('helloworld.txt','w')
f.write('hello world')
f.close()</pre>
<p>In Python, any line that begins with a hash mark (<span class="reserved">#</span>) is known as a <span class="tech">comment</span> and is ignored by the Python interpreter. Comments are intended to allow programmers to communicate with one another (or to remind themselves of what their code does when they sit down with it a few months later). In a larger sense, programs themselves are typically written and formatted in a way that makes it easier for programmers to communicate with one another. Code that is closer to the requirements of the machine is referred to as <span class="tech">low-level</span>, whereas code that is closer to natural language is <span class="tech">high-level</span>. One of the benefits of using a language like Python is that it is very high level, making it easier for us to communicate with you (at some cost in terms of computational efficiency).</p>
<p>In this program <span class="var">f</span> is a <span class="tech">file object</span>, and <span class="reserved">open</span>, <span class="reserved">write</span> and <span class="reserved">close</span> are <span class="tech">file methods</span>. In other words, <span class="reserved">open</span>, <span class="reserved">write</span> and <span class="reserved">close</span> do something to the object <span class="var">f</span> which is in this case defined as a <code>.txt</code> file. This is likely a different use of the term “method” than you might expect and from time to time you will find that words used in a programming context have slightly (or completely) different meanings than they do in everyday speech. In this case recall that methods are bits of code which perform actions. They do something to something else and return a result. You might try to think of it using a real-world example such giving commands to the family dog. The dog (the object) understands commands (i.e., has “methods”) such as “bark”, “sit”, “play dead”, and so on. We will discuss and learn how to use many other methods as we go along.</p>
<p><span class="var">f</span> is a <span class="tech">variable</span> name chosen by us; you could have named it just about anything you like. In Python, variable names can be made from upper- and lowercase letters, numbers and underscores…but you can’t use the names of Python commands as variables. If you tried to name your file variable “print” for example, your program would not work because that is a <span class="tech"><a href="http://docs.python.org/release/2.5.4/ref/keywords.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://docs.python.org']);" target="_blank">reserved word</a></span> that is part of the programming language.</p>
<p>Python variable names are also <em>case-sensitive</em>, which means that foobar, Foobar and FOOBAR would all be different variables.</p>
<p>When you run this program, the <span class="reserved">open</span> method will tell your computer to create a new text file <code>helloworld.txt</code> in the same folder as you have saved the <code>file-output.py</code> program. The <span class="var">w</span> <span class="tech">parameter</span> says that you intend to write content to this new file using Python.</p>
<p>Note that since both the file name and the parameter are surrounded by single quotes you know they are both stored as strings; forgetting to include the quotation marks will cause your program to fail.</p>
<p>On the next line, your program writes the message “hello world” (another string) to the file and then closes it. (For more information about these statements, see the section on <a href="http://docs.python.org/lib/bltin-file-objects.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://docs.python.org']);" target="_blank">File Objects</a> in the Python Library Reference.)</p>
<p>Double-click on your “Run Python” button in Komodo Edit to execute the program (or the equivalent in whichever text-editor you have decided to use. eg, click on the “#!” and “Run” in TextWrangler). Although nothing will be printed to the “Command Output” pane, you will see a status message that says something like</p>
<pre class="python">`/usr/bin/python file-output.py` returned 0.</pre>
<p>in Mac or Linux, or</p>
<pre class="python">'C:\Python27\Python.exe file-output.py' returned 0.</pre>
<p>in Windows.</p>
<p>This means that your program executed successfully. If you use <code>File -&gt; Open -&gt; File</code> in you Komodo Edit, you can open the file <code>helloworld.txt</code>. It should contain your one-line message:</p>
<pre class="python">Hello World!</pre>
<p>Since text files include a minimal amount of formatting information, they tend to be small, easy to exchange between different platforms (i.e., from Windows to Linux or Mac or vice versa), and easy to send from one computer program to another. They can usually also be read by people using a text editor like Komodo Edit.</p>
<h3>Reading From a Text File</h3>
<p>Python also has methods which allow you to get information from files. Type the following program into your text editor and save it as <code>file-input.py</code>. When you click on “Run” to execute it, it will open the text file that you just created, read the one-line message from it, and print the message to the “Command Output” pane.</p>
<pre class="python"># file-input.py
f = open('helloworld.txt','r')
message = f.read()
print message
f.close()</pre>
<p>In this case, the <span class="var">r</span> parameter is used to indicate that you are opening a file to <span class="reserved">read</span> from it. Parameters let you choose among the different options a particular method allows. Returning to the family dog example, the dog may be trained to bark once when he gets a beef-flavoured snack and twice when he gets a chicken-flavoured one. The flavour of the snack is a parameter. Each method is different in terms of what parameters it will accept. You cannot, for example, ask the dog to sing an Italian opera – unless your dog is particularly talented. You can look up the possible parameters for a particular method on the Python website, or often you can find them by typing the method into a search engine along with “Python”.</p>
<p><span class="reserved">Read</span> is another file method. The contents of the file (the one-line message) are copied into <span class="var">message</span>, which is what we’ve decided to call this string, and then the <span class="reserved">print</span> command is used to send the contents of <span class="var">message</span> to the “Command Output” pane.</p>
<h3>Appending to a Pre-Existing Text File</h3>
<p>A third option is to open a pre-existing file and add more to it. Note that if you <span class="reserved">open</span> a file and use the <span class="reserved">write</span> method, <i>the program will overwrite whatever might have been contained in the file</i>. This isn’t an issue when you are creating a new file, or when you want to overwrite the contents of an existing file, but it might be undesirable when you are creating a log of events or compiling a large set of data into one file. So, instead of <span class="reserved">write</span> you will want to use the <span class="reserved">append</span> method, designated by <span class="reserved">a</span>.</p>
<p>Type the following program into your text editor and save it as <code>file-append.py</code>. When you run this program it will open the same <code>helloworld.txt</code> file created earlier and <span class="reserved">append</span> a second “hello world” to the file. The ‘<span class="reserved">\n</span>‘ stands for <span class="tech">new line</span>.</p>
<pre class="python"># file-append.py
f = open('helloworld.txt','a')
f.write('\n' + 'hello world')
f.close()</pre>
<p>After you have run the program, open the <code>helloworld.txt</code> file and see what happened. Close the text file and re-run <code>file-append.py</code> a few more times. When you open <code>helloworld.txt</code> again you should notice a few extra ‘hello world’ messages waiting for you.</p>
<p>In the next section, we will discuss modularity and reusing code.</p>
<h2>Suggested Readings</h2>
<ul>
<li><a href="http://en.wikibooks.org/wiki/Non-Programmer%27s_Tutorial_for_Python_2.6/Hello,_World" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikibooks.org']);">Non-Programmer’s Tutorial for Python 2.6/Hello, World</a></li>
</ul>

<!-- You can start editing here. -->
<!-- If comments are open, but there are no comments. -->

</div>
</article>
<!-- .navigation -->
</div>

<script src="http://programminghistorian.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83c" type="text/javascript"></script>
<script src="http://programminghistorian.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83c" type="text/javascript"></script>
<script src="http://programminghistorian.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js?ver=3.0.83c" type="text/javascript"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://programminghistorian.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://programminghistorian.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
</body></html>